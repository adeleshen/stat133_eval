---
title: "Stat133_lab02"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
# remove existing objects
rm(list = ls())
```

```{r}
# download RData file into your working directory
rdata <- "https://github.com/ucb-stat133/stat133-labs/raw/master/data/nba2018-salary-points.RData"

download.file(url = rdata, destfile = 'nba2018-salary-points.RData')
```

```{r}
# load data in your R session
load('nba2018-salary-points.RData')
```

```{r}
# list the available objects with ls()
ls()
```

```{r}
four <- head(player, n = 4)
# number one#
four[1]
```

```{r}
# an index of zero:# 
four[0]
```

```{r}
#a negative index: #
four[-1]
```

```{r}
#various negative indices: #
four[-c(1,2,3)]
```

```{r}
#an index greater than the length of the vector: #
four[5]
```

```{r}
#repeated indices: #
four[c(1,2,2,3,3,3)]
```


# Figure out how to use seq(), rep(), and bracket notation, to extract:

##### all the even elements in player
##### all the odd elements in salary
##### all multiples of 5 (e.g. 5, 10, 15, etc) of team
##### elements in positions 10, 20, 30, 40, etc of scored
##### all the even elements in team but this time in reverse order

```{r}
player[seq(2, length(player), by = 2)]
```

```{r}
salary[seq(1, length(player), by = 2)]
```

```{r}
team[seq(5, length(player), by = 5)]
```

```{r}
scored[seq(10, length(player), by = 10)]
```

```{r}
rev(team[seq(2, length(player), by = 2)])
```

#Logical Subsetting and Comparisons
```{r}
scored_four <- scored[1:4]

# elements greater than 100
scored_four[scored_four > 100]

# elements less than 100
scored_four[scored_four < 100]

# elements less than or equal to 10
scored_four[scored_four <= 10]

# elements different from 10
scored_four[scored_four != 10]
```

```{r}
TRUE & TRUE
TRUE & FALSE
FALSE & FALSE

# OR
TRUE | TRUE
TRUE | FALSE
FALSE | FALSE

# NOT
!TRUE
!FALSE
```

```{r}
# players of Golden State (GSW)
player[team == 'GSW']

# name of players with salaries greater than 20 million dollars
player[salary > 20000000]

# name of players with scored points between 1000 and 1200 (exclusive)
player[scored > 1000 & scored < 1200]
```

### Write commands, using bracket notation, to answer the following questions (you may need to use min(), max(), which(), which.min(), which.max()):

```{r}
#players in position Center, of Warriors (GSW)

player[position == "C" & team == "GSW"]
```

```{r}
#players of both GSW (warriors) and LAL (lakers)
player[team == 'GSW' | team == 'LAL']
```

```{r}
# players in positions Shooting Guard and Point Guards, of Lakers (LAL)
player[team == 'LAL' & (position == 'SG' | position == 'PG')]
```

```{r}
# subset Small Forwards of GSW and LAL

player[position == 'SF' & (team == 'GSW' | team == 'LAL')]
```

```{r}
# name of the player with largest salary
player[which.max(salary)]

# name of the player with smallest salary
player[which.min(salary)]

# name of the player with largest number of scored points
player[which.max(scored)]

# salary of the player with largest number of scored points
salary[which.max(scored)]
```

```{r}
# largest salary of all Centers
max(salary[position == 'C'])

# team of the player with the largest number of scored points
team[which.max(scored)]

# name of the player with the largest number of 3-pointers
player[which.max(points3)]
```

# Subsetting with Character Vectors

```{r}
plot(scored, salary)
```

```{r}
library(plotly)
```

```{r}
plot_ly(x = scored, y = salary, type = "scatter", mode = "markers")

```

```{r}
log_scored <- log(scored)
log_salary <- log(salary)

plot(log_scored, log_salary)

plot(log_scored, log_salary)
text(log_scored, log_salary, labels = player)

plot(log_scored, log_salary)
text(log_scored, log_salary, labels = abbreviate(player))
```

```{r}
# Your Turn: create a scatterplot of points and salary for the Warriors (GSW), displaying the names of the players. Generate two scatterplots, one with raw values (original scale, and another plot with log-transformations).

plot(x = scored[team == "GSW"], y = salary[team == "GSW"])
text(scored[team == "GSW"], salary[team == "GSW"], labels = player[team == "GSW"])
plot(x = log(scored[team == "GSW"]), y = log(salary[team == "GSW"]))
text(log(scored[team == "GSW"]), log(salary[team == "GSW"]), labels = player[team == "GSW"])
```

# Factors
```{r}
is.factor(team)
position_fac <- factor(position)
table(position_fac)
position_fac[1:5]

```

```{r}
# positions of Warriors
position_fac[team == 'GSW']
```

```{r}
# positions of players with salaries > 15 millions
position_fac[salary > 15000000]
```

```{r}
# frequencies (counts) of positions with salaries > 15 millions: use table
table(position_fac[salary > 15000000])

```

```{r}
# relative frequencies (proportions) of 'SG' (Shooting Guards) in each team
prop.table(table(team[position_fac == 'SG']))
```

```{r}
plot(scored, salary, col= position_fac, pch = 25, cex = 2, xlab= "Scores", ylab = "Salary")

```

```{r}

```

```{r}

```

```{r}

```

